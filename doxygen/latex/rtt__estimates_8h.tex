\doxysection{src/includes/rtt\+\_\+estimates.h File Reference}
\hypertarget{rtt__estimates_8h}{}\label{rtt__estimates_8h}\index{src/includes/rtt\_estimates.h@{src/includes/rtt\_estimates.h}}


This file contains the function declarations for calculating RTT and updating timeout values.  


{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$sys/time.\+h$>$}\newline
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
double \mbox{\hyperlink{rtt__estimates_8h_abef5848c7b46e59dd71a1f602f11b57a}{calculate\+RTT}} (struct timeval start\+Time, struct timeval end\+Time)
\begin{DoxyCompactList}\small\item\em Calculates the Round Trip Time (RTT) using the start and end time of a packet transmission. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{rtt__estimates_8h_a8b2f872442366b0a1b2c72f8bb1d98dc}{set\+Timeout\+From\+Ms}} (struct timeval \texorpdfstring{$\ast$}{*}timeout, int ms)
\begin{DoxyCompactList}\small\item\em Helper function to set timeout value from the given time in milliseconds. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{rtt__estimates_8h_a97ed09134755ca9c50a78988f99f0dad}{update\+Timeout}} (double \texorpdfstring{$\ast$}{*}estimated\+RTT, double \texorpdfstring{$\ast$}{*}deviation, double sample\+RTT, struct timeval \texorpdfstring{$\ast$}{*}timeout)
\begin{DoxyCompactList}\small\item\em Updates the timeout value using the current sample RTT, estimated RTT, and deviation. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{rtt__estimates_8h_ac104204deb25bbf26e2250335f833769}{double\+Time\+Out}} (struct timeval \texorpdfstring{$\ast$}{*}timeout)
\begin{DoxyCompactList}\small\item\em Doubles the timeout value. Function is used in order to increase timeout value when multiple timeouts occur. In order to avoid retransmission of packets in case of network congestion. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
This file contains the function declarations for calculating RTT and updating timeout values. 

This file contains functions to calculate the Round Trip Time (RTT) and update the timeout value. The RTT is calculated using the start and end time of a packet transmission. The timeout can be updated via the function update\+Timeout using the current sample RTT, estimated RTT and the deviation based on Jacobson/\+Karels Algorithm. The timeout value is also doubled vis the function double\+Time\+Out.

\begin{DoxyRefDesc}{Bug}
\item[\mbox{\hyperlink{bug__bug000006}{Bug}}]No known bugs. \end{DoxyRefDesc}
\begin{DoxyAuthor}{Author}
Leo Kamino (Leonardo\+Kamino) 
\end{DoxyAuthor}


\doxysubsection{Function Documentation}
\Hypertarget{rtt__estimates_8h_abef5848c7b46e59dd71a1f602f11b57a}\label{rtt__estimates_8h_abef5848c7b46e59dd71a1f602f11b57a} 
\index{rtt\_estimates.h@{rtt\_estimates.h}!calculateRTT@{calculateRTT}}
\index{calculateRTT@{calculateRTT}!rtt\_estimates.h@{rtt\_estimates.h}}
\doxysubsubsection{\texorpdfstring{calculateRTT()}{calculateRTT()}}
{\footnotesize\ttfamily double calculate\+RTT (\begin{DoxyParamCaption}\item[{struct timeval}]{start\+Time,  }\item[{struct timeval}]{end\+Time }\end{DoxyParamCaption})}



Calculates the Round Trip Time (RTT) using the start and end time of a packet transmission. 


\begin{DoxyParams}{Parameters}
{\em start\+Time} & The time at which the packet was sent. \\
\hline
{\em end\+Time} & The time at which the packet was received. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The RTT in milliseconds. 
\end{DoxyReturn}
\Hypertarget{rtt__estimates_8h_ac104204deb25bbf26e2250335f833769}\label{rtt__estimates_8h_ac104204deb25bbf26e2250335f833769} 
\index{rtt\_estimates.h@{rtt\_estimates.h}!doubleTimeOut@{doubleTimeOut}}
\index{doubleTimeOut@{doubleTimeOut}!rtt\_estimates.h@{rtt\_estimates.h}}
\doxysubsubsection{\texorpdfstring{doubleTimeOut()}{doubleTimeOut()}}
{\footnotesize\ttfamily void double\+Time\+Out (\begin{DoxyParamCaption}\item[{struct timeval \texorpdfstring{$\ast$}{*}}]{timeout }\end{DoxyParamCaption})}



Doubles the timeout value. Function is used in order to increase timeout value when multiple timeouts occur. In order to avoid retransmission of packets in case of network congestion. 


\begin{DoxyParams}{Parameters}
{\em timeout} & The timeout struct to be updated. \\
\hline
\end{DoxyParams}
\Hypertarget{rtt__estimates_8h_a8b2f872442366b0a1b2c72f8bb1d98dc}\label{rtt__estimates_8h_a8b2f872442366b0a1b2c72f8bb1d98dc} 
\index{rtt\_estimates.h@{rtt\_estimates.h}!setTimeoutFromMs@{setTimeoutFromMs}}
\index{setTimeoutFromMs@{setTimeoutFromMs}!rtt\_estimates.h@{rtt\_estimates.h}}
\doxysubsubsection{\texorpdfstring{setTimeoutFromMs()}{setTimeoutFromMs()}}
{\footnotesize\ttfamily void set\+Timeout\+From\+Ms (\begin{DoxyParamCaption}\item[{struct timeval \texorpdfstring{$\ast$}{*}}]{timeout,  }\item[{int}]{ms }\end{DoxyParamCaption})}



Helper function to set timeout value from the given time in milliseconds. 


\begin{DoxyParams}{Parameters}
{\em timeout} & The timeout struct to be updated. \\
\hline
{\em ms} & The time in milliseconds. \\
\hline
\end{DoxyParams}
\Hypertarget{rtt__estimates_8h_a97ed09134755ca9c50a78988f99f0dad}\label{rtt__estimates_8h_a97ed09134755ca9c50a78988f99f0dad} 
\index{rtt\_estimates.h@{rtt\_estimates.h}!updateTimeout@{updateTimeout}}
\index{updateTimeout@{updateTimeout}!rtt\_estimates.h@{rtt\_estimates.h}}
\doxysubsubsection{\texorpdfstring{updateTimeout()}{updateTimeout()}}
{\footnotesize\ttfamily void update\+Timeout (\begin{DoxyParamCaption}\item[{double \texorpdfstring{$\ast$}{*}}]{estimated\+RTT,  }\item[{double \texorpdfstring{$\ast$}{*}}]{deviation,  }\item[{double}]{sample\+RTT,  }\item[{struct timeval \texorpdfstring{$\ast$}{*}}]{timeout }\end{DoxyParamCaption})}



Updates the timeout value using the current sample RTT, estimated RTT, and deviation. 

This function updates the timeout value using the current sample RTT, estimated RTT, and deviation. The logic behind these calculations is based on the Jacobson/\+Karels Algorithm to decide when to timeout and retransmit a packet. We added a constraint on the minimum timeout value of 5ms to avoid extreme cases.


\begin{DoxyParams}{Parameters}
{\em estimated\+RTT} & The estimated RTT value in ms. \\
\hline
{\em deviation} & The deviation value in ms. \\
\hline
{\em sample\+RTT} & The current sample RTT value in ms. \\
\hline
{\em timeout} & The timeout struct to be updated. \\
\hline
\end{DoxyParams}
