<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ELEC 331 Programming Assignment 1: Packet Loss</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ELEC 331 Programming Assignment 1
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">ELEC 331 Programming Assignment 1</a></li><li class="navelem"><a class="el" href="main_test_page.html">PA1 Test Page</a></li>  </ul>
</div>
</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Packet Loss</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="packet_loss_1"></a>
1.0 Calculation of Bandwidth &amp; Throughput</h1>
<p>See <a class="el" href="bandwidth_and_throughput.html">Bandwidth &amp; Throughput Calculations</a> </p>
<h1><a class="anchor" id="packet_loss_2"></a>
2.0 Expectation 7</h1>
<p>All of the above should hold in the presence of any amount of dropped packets. All flows, including the TCP flows, will see the same rate of drops. The network will not introduce bit errors. </p>
<h2><a class="anchor" id="packet_loss_network"></a>
Shared Test setup</h2>
<ol type="1">
<li>Create a cloudlab experiment using the setup for Lab2A</li>
<li>ssh into Europa and Juno. In this case we will consider Juno as the sender and Europa as the receiver</li>
<li>On the sender (Juno) run the following commands to clear existing settings on the network and add a new netem qdisc to limit the outbound traffic rate to 20 Mbit/s<ul>
<li>Clear existing qdisc settings: <div class="fragment"><div class="line">sudo tc qdisc del dev eth0 root 2&gt;/dev/null</div>
</div><!-- fragment --></li>
<li>Add a new netem qdisc with a rate of 20 Mbit/s and packet loss of 1%: <div class="fragment"><div class="line">sudo tc qdisc add dev eth0 root netem rate 20Mbit loss 1%</div>
</div><!-- fragment --></li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="packet_loss_2_1"></a>
2.1 Testing a Single Instance of Our Protocol</h2>
<h3><a class="anchor" id="packet_loss_2_1_1"></a>
Single Instance - Key Requirements</h3>
<ol type="1">
<li>Packet dropping &gt; 0, no reordering should be applied while testing or bit errors introduced</li>
<li>No competing traffic while measuring bandwidth, use cloudlab for isolation</li>
<li>Averaged over 10 seconds, with a link capacity on cloudlab of 20Mbit/s</li>
<li>Requires file size of at least 20 Mb</li>
</ol>
<h3><a class="anchor" id="packet_loss_2_1_2"></a>
Single Instance - Usage Instructions</h3>
<ol type="1">
<li>On the receiver (Europa) run the following command to run the receiver, assuming the UDP port is 12345 and receiver.mp4 is an empty .mp4 file <div class="fragment"><div class="line">./receiver 12345 sample1.mp4</div>
</div><!-- fragment --></li>
<li>Now on the sender (Juno) run this command where the port number is 12345, the hostname is using the cloudlab cluster, and SampleVideo.mp4 is a 20.1 Mb file. <div class="fragment"><div class="line">./sender amdvm146-1.utah.cloudlab.us 12345 SampleVideo.mp4 60000000</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="packet_loss_2_1_3"></a>
Single Instance - Results</h3>
<ul>
<li>Sender (Juno): <div class="fragment"><div class="line">Sending SampleVideo.mp4 to: amdvm146-1.utah.cloudlab.us</div>
<div class="line"> Throughput: 1.26 Mb/s</div>
<div class="line"> Bandwidth Utilization: 6.02%</div>
<div class="line"> Transfer duration:  163.81 s</div>
<div class="line"> Total Bytes Sent: 25846550</div>
</div><!-- fragment --></li>
<li>Receiver (Europa): <div class="fragment"><div class="line">Server is listening on port 12345</div>
<div class="line">File transfer complete. 21069678 bytes written to sample1.mp4</div>
</div><!-- fragment --></li>
<li>Discussion: Due to the lack of paralelism in our protocol our performance is hardly affected due to packet drops. As shown the bandwidth utilization drops considerate and the transfer duration increase in more than 16x</li>
</ul>
<h2><a class="anchor" id="packet_loss_2_2"></a>
2.2 Testing a Competing Instances of Our Protocol</h2>
<h3><a class="anchor" id="packet_loss_2_2_1"></a>
Competing Instances - Key Requirements</h3>
<ol type="1">
<li>Packet dropping &gt; 0, no reordering should be applied while testing or bit errors introduced</li>
<li>Start two instances of our protocol at roughly the same time</li>
<li>After measuring the throughput of both instances, they should be the same +/- 10%</li>
<li>The convergence of throughput between the 2 inctances of the protocol should occur within 100 RTTs</li>
</ol>
<h3><a class="anchor" id="packet_loss_2_2_2"></a>
Competing Instances - Usage Instructions</h3>
<ol type="1">
<li>On receiver 1 (Europa 1) run the following command to run the receiver, assuming the UDP port is 12345 and receiver.avi is an empty .avi file <div class="fragment"><div class="line">./receiver 12345 receiver.avi</div>
</div><!-- fragment --></li>
<li>On receiver 2 (Europa 2) run the following command to run the receiver, assuming the UDP port is 12346 and receiver2.avi is an empty .avi file <div class="fragment"><div class="line">./receiver 12346 receiver2.avi</div>
</div><!-- fragment --></li>
<li>Now on both of the senders (Juno 1 &amp; 2) prepare the commands required but don't send until you can do both at the same time <div class="fragment"><div class="line">./sender clnodevm127-1.clemson.cloudlab.us 12345 Test.avi 6000000</div>
</div><!-- fragment --> <div class="fragment"><div class="line">./sender clnodevm127-1.clemson.cloudlab.us 12346 Test2.avi 6000000</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="packet_loss_2_2_3"></a>
Competing Instances - Results</h3>
<ul>
<li>Sender 1 (Juno 1): <div class="fragment"><div class="line">Sending Test.avi to: amdvm146-1.utah.cloudlab.us</div>
<div class="line"> Throughput: 0.84 Mb/s</div>
<div class="line"> Bandwidth Utilization: 4.00%</div>
<div class="line"> Transfer duration:  72.24 s</div>
<div class="line"> Total Bytes Sent: 7582920</div>
</div><!-- fragment --></li>
<li>Sender 2 (Juno 2): <div class="fragment"><div class="line">Sending Test2.avi to: amdvm146-1.utah.cloudlab.us</div>
<div class="line">Throughput: 0.77 Mb/s</div>
<div class="line">Bandwidth Utilization: 3.66%</div>
<div class="line">Transfer duration :  89.54 s</div>
<div class="line">Total Bytes Sent: 8595840</div>
</div><!-- fragment --></li>
<li>Receiver 1 (Europa 1): <div class="fragment"><div class="line">Server is listening on port 12345</div>
<div class="line"> File transfer complete. 5958144 bytes written to receiver.mp4</div>
</div><!-- fragment --></li>
<li>Receiver 2 (Europa 2): <div class="fragment"><div class="line">Server is listening on port 12346</div>
<div class="line">File transfer complete. 5958144 bytes written to receiver2.mp4</div>
</div><!-- fragment --></li>
<li>Discussion: As expected based on the results of running the instance by itself the performance of our protocol with more than one instance running is very affectetd. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
